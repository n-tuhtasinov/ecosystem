import{g as n,c as l}from"./index-DbdGFxt5.js";import{s,t as i,v as y,w as c}from"./index-CjbR5zlf.js";import{z as r}from"./form-BnLW7AoU.js";const o={fetchDistricts:async e=>{const{data:t}=await s.getWithPagination(i.DISTRICTS,e);return t||[]},fetchDistrict:async e=>{const{data:t}=await s.get(`${i.DISTRICTS}/${e}`);return t.data},fetchRegionSelect:async()=>{const{data:e}=await s.get(`${i.REGIONS_SELECT}`);return e.data},createDistrict:async e=>{const t=await s.post(i.DISTRICTS,e);return!t.success&&t.errors&&y.error(Object.values(t.errors).join(", "),{richColors:!0}),t},updateDistrict:async e=>{const t=await s.put(`${i.DISTRICTS}/${e.id}`,e);if(!t.success)throw new Error(t.message);return t},deleteDistrict:async e=>{const t=await s.delete(`${i.DISTRICTS}/${e}`);if(!t.success)throw new Error(t.message)}},S=e=>c({staleTime:n(1,"week"),queryKey:u.list("district",e),queryFn:()=>o.fetchDistricts(e),placeholderData:t=>t}),T=(e,t)=>c({enabled:!!e,staleTime:n(1,"day"),queryFn:()=>o.fetchDistrict(e),queryKey:u.detail("district",e),placeholderData:m=>m,...t}),h=()=>c({staleTime:n(1,"week"),queryFn:()=>o.fetchRegionSelect(),queryKey:u.entity("district-region-select")}),a={name:r.string().min(1,"Tuman nomi majburiy"),soato:r.coerce.string().min(1,"MHOBTni kiritish majburiy"),number:r.coerce.string().min(1,"Raqamni kiritish majburiy"),regionId:r.string().min(1,"Viloyatni tanlash majburiy")},d=r.object({id:r.number().optional(),...a});r.object(a),r.object({id:r.number(),...Object.fromEntries(Object.entries(a).map(([e,t])=>[e,t.optional()]))}),r.object({...Object.fromEntries(Object.entries(a).map(([e,t])=>[e,t.optional()])),page:r.number().optional().default(1),size:r.number().optional().default(20)});const u=l("district");export{u as a,d as b,h as c,o as d,T as e,S as u};
